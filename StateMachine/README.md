# StateMachine

## Описание схемы
### Основные компоненты:
- **Двигатели с H-bridge** на пинах `H1`, `H2`, `E1`, `E2`
- **Два ультразвуковых датчика** (`PIN_TRIG_LEFT`, `PIN_ECHO_LEFT`, `PIN_TRIG_FRONT`, `PIN_ECHO_FRONT`)

# Описание скрипта `StateMachine.ino`

Программа заставляет колёсную платформу проходить лабиринт держась левой рукой за стену, используя машину состояний:

### Основные состояния:
- **"STOP"** – остановка
- **"FORWARD"** – движение вперёд
- **"TURN_LEFT"** – платформа корректирует курс плавным поворотом влево.
- **"TURN_RIGHT"** – платформа корректирует курс плавным поворотом вправо.
- **"ROTATE_LEFT"** – поворот на месте на 90° налево
- **"ROTATE_RIGHT"** – поворот на месте на 90° направо

### Логика работы:
1. **Измерение расстояний**  
   - `check_left_distance()` – определяет расстояние до стены слева.  
   - `check_front_distance()` – определяет расстояние до препятствия впереди.  

2. **Принятие решения**  
   - Если впереди есть свободное пространство и стена слева в допустимых пределах – **движение вперед**.  
   - Если слева слишком большое расстояние, а впереди нет ничего – **поворот налево**.  
   - Если впереди препятствие, но слева есть стена – **поворот направо**.  
   - Если стена слишком близко – **коррекция курса направо**.  
   - Если стена слишком далеко – **коррекция курса налево**.  

3. **Движение платформы**  
   - `go_forward(speed)` – движение вперед с заданной скоростью.  
   - `turn_left(speed, ratio)` – плавный поворот влево.  
   - `turn_right(speed, ratio)` – плавный поворот вправо.  
   - `rotate_deg(dir)` – резкий поворот на 90° в заданном направлении.  
   - `stop()` – остановка робота.  

