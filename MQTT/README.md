# MQTT











## Возможности







## Команды (передаются автоматически из скрипта python)
- **'p'**: Получение значения освещенности.
- **'u'**: Включение сигнала.
- **'d'**: Выключение сигнала.

## Описание программы **arduino**
Данная программа реализует управление светодиодом на основе полученных данных от датчика освещенности.  

### Функционал:

* Прием команд: Программа ожидает команд, отправленных по COM-порту с компьютера. 
* Управление светодиодом:
    * Команда `'u'` включает светодиод.
    * Команда `'d'` выключает светодиод.
* Считывание данных от датчика:
    * Команда `'p'` заставляет программу считать данные от датчика освещенности (подключенного к аналоговому пину `A0`) и отправить их обратно на компьютер.
    * Данные считываются через функцию `analogRead`, затем сжимаются (деление на 4) для экономии трафика и отправляются в виде байта. 

### Описание кода:

* **#define:**

  Задаются константы для пинов светодиода (`PIN_LED_1`), датчика освещенности (`PIN_PHOTO_SENSOR_1`) и команд (`SET_ON`, `SET_OFF`, `SET_PHOTO`).

* **pause:**

  Функция, которая вводит паузу в выполнение программы на заданное время (в миллисекундах). 

* **getting_command:**

  Функция, которая считывает команды с USB-порта и выполняет соответствующие действия. 

* **setup:**

  Функция, которая выполняется только один раз при запуске программы. В ней инициализируется последовательный порт и устанавливается пин светодиода в режим вывода.

* **loop:**

  Функция, которая выполняется в цикле бесконечно. В ней вызывается функция `getting_command` для обработки команд с компьютера.

### Работа программы:

1. Программа устанавливает связь через COM-порт.
2. Ожидает команды с компьютера.
3. При получении команды `'u'`, `'d'` или `'p'`, программа выполняет соответствующее действие: включение/выключение светодиода или считывание данных от датчика.
4. Считанные от датчика данные отправляются обратно на компьютер ЛИБО происходит включение/выключение светодиода. 










## Описание программы **python**








